- hosts: calc
  tasks:
    - name: "Stop old cont"
      docker_container:
        name: calc
        state: stopped
      ignore_errors: true
    - name: "Old cont rename"
      command: docker rename calc calc-old
      ignore_errors: true
    - name: "Image calc create"
      command: docker pull nginx:latest
      register: cs
      ignore_errors: true
    - name: "Container calc create"
      docker_container:
        name: calc
        volumes: /temp-calc:/usr/share/nginx
        published_ports: 8080:80
      ignore_errors: true
    - name: "Start old container"
      docker_container:
        name: calc-old
        state: started
      when: cs is succeeded 
      ignore_errors: true
